{"ast":null,"code":"import _defineProperty from\"C:/Users/ANJANI IIT/OneDrive/Desktop/AnjaniB/my-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/ANJANI IIT/OneDrive/Desktop/AnjaniB/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/ANJANI IIT/OneDrive/Desktop/AnjaniB/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/ANJANI IIT/OneDrive/Desktop/AnjaniB/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/ANJANI IIT/OneDrive/Desktop/AnjaniB/my-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./Dashboard.css';import{connect}from'react-redux';// import { logoutUser } from './actions/authActions';\nimport{addPost}from'./actions/postactions';import{withRouter}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Postform=/*#__PURE__*/function(_Component){_inherits(Postform,_Component);var _super=_createSuper(Postform);function Postform(props){var _this;_classCallCheck(this,Postform);_this=_super.call(this,props);_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.componentWillReceiveProps=function(newProps){if(newProps.errors){_this.setState({errors:newProps.errors});}};_this.onSubmit=function(e){e.preventDefault();console.log(_this.props);var user=_this.props.auth.user;console.log(\"yeah,inside the onsumbit\");var newPost={text:_this.state.text,name:user.name,avatar:user.avatar};_this.props.addPost(newPost);_this.setState({text:'',errors:{}});};_this.state={text:\"\",errors:{}};return _this;}_createClass(Postform,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"posttitle\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:this.onSubmit.bind(this),children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{className:\"headingtext\",children:\"Enter Your Post\"}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"input\",{name:\"text\",className:\"inputbox\",type:\"textbox\",value:this.state.text,onChange:this.onChange.bind(this)})}),/*#__PURE__*/_jsx(\"li\",{className:\"warntext\",children:this.state.errors.text}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"btn\",type:\"submit\",children:\"Submit\"})})]})})})});}}]);return Postform;}(Component);var mapStateToProps=function mapStateToProps(state){return{auth:state.auth,errors:state.errors};};export default connect(mapStateToProps,{addPost:addPost})(withRouter(Postform));","map":{"version":3,"sources":["C:/Users/ANJANI IIT/OneDrive/Desktop/AnjaniB/my-app/src/postform.js"],"names":["React","Component","connect","addPost","withRouter","Postform","props","onChange","e","setState","target","name","value","componentWillReceiveProps","newProps","errors","onSubmit","preventDefault","console","log","user","auth","newPost","text","state","avatar","bind","mapStateToProps"],"mappings":"gpBAAA,MAAOA,CAAAA,KAAP,EAAcC,SAAd,KAA8B,OAA9B,CACA,MAAO,iBAAP,CAEA,OAAQC,OAAR,KAAsB,aAAtB,CACA;AACA,OAAQC,OAAR,KAAsB,uBAAtB,CACA,OAASC,UAAT,KAA2B,cAA3B,C,2FAEMC,CAAAA,Q,oGACH,kBAAYC,KAAZ,CAAkB,0CACd,uBAAMA,KAAN,EADc,MASlBC,QATkB,CAST,SAACC,CAAD,CAAK,CACX,MAAKC,QAAL,oBAAgBD,CAAC,CAACE,MAAF,CAASC,IAAzB,CAA+BH,CAAC,CAACE,MAAF,CAASE,KAAxC,GAEF,CAZiB,OAalBC,yBAbkB,CAaQ,SAACC,QAAD,CAAY,CACnC,GAAGA,QAAQ,CAACC,MAAZ,CAAmB,CAChB,MAAKN,QAAL,CAAc,CAACM,MAAM,CAACD,QAAQ,CAACC,MAAjB,CAAd,EAEF,CAEH,CAnBiB,OAoBlBC,QApBkB,CAoBT,SAACR,CAAD,CAAK,CACXA,CAAC,CAACS,cAAF,GACAC,OAAO,CAACC,GAAR,CAAY,MAAKb,KAAjB,EACA,GAAOc,CAAAA,IAAP,CAAa,MAAKd,KAAL,CAAWe,IAAxB,CAAOD,IAAP,CACAF,OAAO,CAACC,GAAR,CAAY,0BAAZ,EACA,GAAMG,CAAAA,OAAO,CAAC,CACXC,IAAI,CAAC,MAAKC,KAAL,CAAWD,IADL,CAEXZ,IAAI,CAACS,IAAI,CAACT,IAFC,CAGXc,MAAM,CAACL,IAAI,CAACK,MAHD,CAAd,CAKA,MAAKnB,KAAL,CAAWH,OAAX,CAAmBmB,OAAnB,EACA,MAAKb,QAAL,CAAc,CAACc,IAAI,CAAE,EAAP,CAAUR,MAAM,CAAC,EAAjB,CAAd,EAEF,CAjCiB,CAEd,MAAKS,KAAL,CAAW,CACTD,IAAI,CAAC,EADI,CACDR,MAAM,CAAC,EADN,CAAX,CAFc,aAMjB,C,2CA4BH,iBAAQ,CAEL,mBACI,kCACG,YAAK,SAAS,CAAC,WAAf,uBACG,aAAM,QAAQ,CAAE,KAAKC,QAAL,CAAcU,IAAd,CAAmB,IAAnB,CAAhB,uBACA,mCACC,WAAI,SAAS,CAAC,aAAd,6BADD,cAEC,iCAAI,cAAO,IAAI,CAAC,MAAZ,CAAmB,SAAS,CAAC,UAA7B,CAAwC,IAAI,CAAC,SAA7C,CAAuD,KAAK,CAAE,KAAKF,KAAL,CAAWD,IAAzE,CAA+E,QAAQ,CAAE,KAAKhB,QAAL,CAAcmB,IAAd,CAAmB,IAAnB,CAAzF,EAAJ,EAFD,cAGC,WAAI,SAAS,CAAC,UAAd,UAA0B,KAAKF,KAAL,CAAWT,MAAX,CAAkBQ,IAA5C,EAHD,cAIC,iCAAI,eAAQ,SAAS,CAAC,KAAlB,CAAwB,IAAI,CAAC,QAA7B,oBAAJ,EAJD,GADA,EADH,EADH,EADJ,CAaI,C,sBAlDetB,S,EAyDvB,GAAM0B,CAAAA,eAAe,CAAC,QAAhBA,CAAAA,eAAgB,CAACH,KAAD,QAAU,CAC7BH,IAAI,CAACG,KAAK,CAACH,IADkB,CAE7BN,MAAM,CAACS,KAAK,CAACT,MAFgB,CAAV,EAAtB,CAKC,cAAeb,CAAAA,OAAO,CAACyB,eAAD,CAAiB,CAACxB,OAAO,CAAPA,OAAD,CAAjB,CAAP,CAAmCC,UAAU,CAACC,QAAD,CAA7C,CAAf","sourcesContent":["import React,{Component} from 'react';\r\nimport './Dashboard.css';\r\nimport PropTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\n// import { logoutUser } from './actions/authActions';\r\nimport {addPost} from './actions/postactions';\r\nimport { withRouter } from 'react-router';\r\n\r\nclass Postform extends Component{\r\n   constructor(props){\r\n       super(props);\r\n       this.state={\r\n         text:\"\",errors:{}\r\n      }\r\n\r\n   }\r\n   \r\n   \r\n   onChange=(e)=>{\r\n      this.setState({[e.target.name]:e.target.value});\r\n\r\n   }\r\n   componentWillReceiveProps=(newProps)=>{\r\n      if(newProps.errors){\r\n         this.setState({errors:newProps.errors})\r\n\r\n      }\r\n\r\n   }\r\n   onSubmit=(e)=>{\r\n      e.preventDefault();\r\n      console.log(this.props);\r\n      const {user}=this.props.auth;\r\n      console.log(\"yeah,inside the onsumbit\");\r\n      const newPost={\r\n         text:this.state.text,\r\n         name:user.name,\r\n         avatar:user.avatar\r\n      };\r\n      this.props.addPost(newPost);\r\n      this.setState({text :'',errors:{}});\r\n      \r\n   }\r\n render(){\r\n\r\n    return(\r\n        <div >\r\n           <div className=\"posttitle\" >\r\n              <form onSubmit={this.onSubmit.bind(this)}>\r\n              <ul>\r\n               <li className=\"headingtext\">Enter Your Post</li>\r\n               <li><input name=\"text\" className=\"inputbox\" type=\"textbox\" value={this.state.text} onChange={this.onChange.bind(this)} /></li>\r\n               <li className=\"warntext\">{this.state.errors.text}</li>\r\n               <li><button className=\"btn\" type=\"submit\" >Submit</button></li>\r\n               </ul>\r\n               </form>\r\n           </div>\r\n        </div>\r\n    ); }\r\n }\r\nPostform.propTypes={\r\n   addPost:PropTypes.func.isRequired,\r\n   auth:PropTypes.object.isRequired,\r\n   errors:PropTypes.object.isRequired\r\n}\r\nconst mapStateToProps=(state)=>({\r\n   auth:state.auth,\r\n   errors:state.errors\r\n})\r\n\r\n export default connect(mapStateToProps,{addPost})(withRouter(Postform));"]},"metadata":{},"sourceType":"module"}