{"ast":null,"code":"import axios from'axios';import{GET_ERRORS,ADD_POST,GET_POSTS,POST_LOADING,DELETE_POST}from'./types';var process=require(\"process\");//add post\nexport var addPost=function addPost(postData){return function(dispatch){axios.post(\"http://localhost:\".concat(process.env.PORT,\"/api/posts\"),postData).then(function(res){return dispatch({type:ADD_POST,payload:res.data});}).catch(function(err){dispatch({type:GET_ERRORS,payload:err.response.data});});};};//get posts\nexport var getPosts=function getPosts(){return function(dispatch){dispatch(setPostLoading());axios.get(\"http://localhost:\".concat(process.env.PORT,\"/api/posts\")).then(function(res){return dispatch({type:GET_POSTS,payload:res.data});}).catch(function(err){dispatch({type:GET_POSTS,payload:null});});};};//add like\nexport var addLike=function addLike(id){return function(dispatch){dispatch(setPostLoading());axios.post(\"http://localhost:\".concat(process.env.PORT,\"/api/posts/like/\").concat(id)).then(function(res){return dispatch(getPosts());}).catch(function(err){dispatch({type:GET_ERRORS,payload:err.response.data});});};};//delete post\nexport var deletePost=function deletePost(id){return function(dispatch){dispatch(setPostLoading());axios.delete(\"http://localhost:\".concat(process.env.PORT,\"/api/posts/\").concat(id)).then(function(res){return dispatch({type:DELETE_POST,payload:id});}).catch(function(err){dispatch({type:GET_ERRORS,payload:err.response.data});});};};//set loading state\nexport var setPostLoading=function setPostLoading(){return{type:POST_LOADING};};","map":{"version":3,"sources":["C:/Users/ANJANI IIT/OneDrive/Desktop/AnjaniB/my-app/src/actions/postactions.js"],"names":["axios","GET_ERRORS","ADD_POST","GET_POSTS","POST_LOADING","DELETE_POST","process","require","addPost","postData","dispatch","post","env","PORT","then","res","type","payload","data","catch","err","response","getPosts","setPostLoading","get","addLike","id","deletePost","delete"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,UAAT,CAAoBC,QAApB,CAA6BC,SAA7B,CAAuCC,YAAvC,CAAqDC,WAArD,KAAuE,SAAvE,CACA,GAAMC,CAAAA,OAAO,CAACC,OAAO,CAAC,SAAD,CAArB,CAEA;AACA,MAAO,IAAMC,CAAAA,OAAO,CAAC,QAARA,CAAAA,OAAQ,CAACC,QAAD,QAAY,UAAAC,QAAQ,CAAE,CACvCV,KAAK,CACCW,IADN,4BAC+BL,OAAO,CAACM,GAAR,CAAYC,IAD3C,eAC4DJ,QAD5D,EAEMK,IAFN,CAEW,SAAAC,GAAG,QACNL,CAAAA,QAAQ,CAAC,CACLM,IAAI,CAACd,QADA,CAELe,OAAO,CAACF,GAAG,CAACG,IAFP,CAAD,CADF,EAFd,EAOKC,KAPL,CAOW,SAAAC,GAAG,CAAE,CACRV,QAAQ,CAAC,CACLM,IAAI,CAACf,UADA,CAELgB,OAAO,CAACG,GAAG,CAACC,QAAJ,CAAaH,IAFhB,CAAD,CAAR,CAGG,CAXX,EAYH,CAboB,EAAd,CAcP;AACA,MAAO,IAAMI,CAAAA,QAAQ,CAAC,QAATA,CAAAA,QAAS,SAAI,UAAAZ,QAAQ,CAAE,CAChCA,QAAQ,CAACa,cAAc,EAAf,CAAR,CACAvB,KAAK,CACCwB,GADN,4BAC8BlB,OAAO,CAACM,GAAR,CAAYC,IAD1C,gBAEMC,IAFN,CAEW,SAAAC,GAAG,QACNL,CAAAA,QAAQ,CAAC,CACLM,IAAI,CAACb,SADA,CAELc,OAAO,CAACF,GAAG,CAACG,IAFP,CAAD,CADF,EAFd,EAOKC,KAPL,CAOW,SAAAC,GAAG,CAAE,CACRV,QAAQ,CAAC,CACLM,IAAI,CAACb,SADA,CAELc,OAAO,CAAC,IAFH,CAAD,CAAR,CAGG,CAXX,EAYH,CAdqB,EAAf,CAeP;AACA,MAAO,IAAMQ,CAAAA,OAAO,CAAC,QAARA,CAAAA,OAAQ,CAACC,EAAD,QAAM,UAAAhB,QAAQ,CAAE,CACjCA,QAAQ,CAACa,cAAc,EAAf,CAAR,CACAvB,KAAK,CACCW,IADN,4BAC+BL,OAAO,CAACM,GAAR,CAAYC,IAD3C,4BACkEa,EADlE,GAEMZ,IAFN,CAEW,SAAAC,GAAG,QACNL,CAAAA,QAAQ,CAACY,QAAQ,EAAT,CADF,EAFd,EAIKH,KAJL,CAIW,SAAAC,GAAG,CAAE,CACRV,QAAQ,CAAC,CACLM,IAAI,CAACf,UADA,CAELgB,OAAO,CAACG,GAAG,CAACC,QAAJ,CAAaH,IAFhB,CAAD,CAAR,CAGG,CARX,EASH,CAXoB,EAAd,CAaP;AACA,MAAO,IAAMS,CAAAA,UAAU,CAAC,QAAXA,CAAAA,UAAW,CAACD,EAAD,QAAM,UAAAhB,QAAQ,CAAE,CACpCA,QAAQ,CAACa,cAAc,EAAf,CAAR,CACAvB,KAAK,CACC4B,MADN,4BACiCtB,OAAO,CAACM,GAAR,CAAYC,IAD7C,uBAC+Da,EAD/D,GAEMZ,IAFN,CAEW,SAAAC,GAAG,QACNL,CAAAA,QAAQ,CAAC,CACLM,IAAI,CAACX,WADA,CAELY,OAAO,CAACS,EAFH,CAAD,CADF,EAFd,EAOKP,KAPL,CAOW,SAAAC,GAAG,CAAE,CACRV,QAAQ,CAAC,CACLM,IAAI,CAACf,UADA,CAELgB,OAAO,CAACG,GAAG,CAACC,QAAJ,CAAaH,IAFhB,CAAD,CAAR,CAGG,CAXX,EAYH,CAduB,EAAjB,CAeP;AAEA,MAAO,IAAMK,CAAAA,cAAc,CAAC,QAAfA,CAAAA,cAAe,EAAI,CAC5B,MAAO,CACHP,IAAI,CAACZ,YADF,CAAP,CAGH,CAJM","sourcesContent":["import axios from 'axios';\r\n\r\nimport { GET_ERRORS,ADD_POST,GET_POSTS,POST_LOADING ,DELETE_POST} from './types';\r\nconst process=require(\"process\");\r\n\r\n//add post\r\nexport const addPost=(postData)=>dispatch=>{\r\n    axios\r\n         .post(`http://localhost:${process.env.PORT}/api/posts`,postData)\r\n         .then(res=>\r\n            dispatch({\r\n                type:ADD_POST,\r\n                payload:res.data\r\n            }))\r\n        .catch(err=>{\r\n            dispatch({\r\n                type:GET_ERRORS,\r\n                payload:err.response.data\r\n            })});\r\n};\r\n//get posts\r\nexport const getPosts=()=>dispatch=>{\r\n    dispatch(setPostLoading());\r\n    axios\r\n         .get(`http://localhost:${process.env.PORT}/api/posts`)\r\n         .then(res=>\r\n            dispatch({\r\n                type:GET_POSTS,\r\n                payload:res.data\r\n            }))\r\n        .catch(err=>{\r\n            dispatch({\r\n                type:GET_POSTS,\r\n                payload:null\r\n            })});\r\n};\r\n//add like\r\nexport const addLike=(id)=>dispatch=>{\r\n    dispatch(setPostLoading());\r\n    axios\r\n         .post(`http://localhost:${process.env.PORT}/api/posts/like/${id}`)\r\n         .then(res=>\r\n            dispatch(getPosts()))\r\n        .catch(err=>{\r\n            dispatch({\r\n                type:GET_ERRORS,\r\n                payload:err.response.data\r\n            })});\r\n};\r\n\r\n//delete post\r\nexport const deletePost=(id)=>dispatch=>{\r\n    dispatch(setPostLoading());\r\n    axios\r\n         .delete(`http://localhost:${process.env.PORT}/api/posts/${id}`)\r\n         .then(res=>\r\n            dispatch({\r\n                type:DELETE_POST,\r\n                payload:id\r\n            }))\r\n        .catch(err=>{\r\n            dispatch({\r\n                type:GET_ERRORS,\r\n                payload:err.response.data\r\n            })});\r\n};\r\n//set loading state\r\n\r\nexport const setPostLoading=()=>{\r\n    return {\r\n        type:POST_LOADING\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}