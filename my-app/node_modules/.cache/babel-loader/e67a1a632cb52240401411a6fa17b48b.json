{"ast":null,"code":"import axios from'axios';import{GET_ERRORS,ADD_POST,GET_POSTS,POST_LOADING,DELETE_POST}from'./types';//add post\nexport var addPost=function addPost(postData){return function(dispatch){axios.post(\"/api/posts\",postData).then(function(res){return dispatch({type:ADD_POST,payload:res.data});}).catch(function(err){dispatch({type:GET_ERRORS,payload:err.response.data});});};};//get posts\nexport var getPosts=function getPosts(){return function(dispatch){dispatch(setPostLoading());axios.get(\"/api/posts\").then(function(res){return dispatch({type:GET_POSTS,payload:res.data});}).catch(function(err){dispatch({type:GET_POSTS,payload:null});});};};//add like\nexport var addLike=function addLike(id){return function(dispatch){dispatch(setPostLoading());axios.post(\"/api/posts/like/\".concat(id)).then(function(res){return dispatch(getPosts());}).catch(function(err){dispatch({type:GET_ERRORS,payload:err.response.data});});};};//delete post\nexport var deletePost=function deletePost(id){return function(dispatch){dispatch(setPostLoading());axios.delete(\"/api/posts/\".concat(id)).then(function(res){return dispatch({type:DELETE_POST,payload:id});}).catch(function(err){dispatch({type:GET_ERRORS,payload:err.response.data});});};};//set loading state\nexport var setPostLoading=function setPostLoading(){return{type:POST_LOADING};};","map":{"version":3,"sources":["C:/Users/ANJANI IIT/OneDrive/Desktop/AnjaniB/my-app/src/actions/postactions.js"],"names":["axios","GET_ERRORS","ADD_POST","GET_POSTS","POST_LOADING","DELETE_POST","addPost","postData","dispatch","post","then","res","type","payload","data","catch","err","response","getPosts","setPostLoading","get","addLike","id","deletePost","delete"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,UAAT,CAAoBC,QAApB,CAA6BC,SAA7B,CAAuCC,YAAvC,CAAqDC,WAArD,KAAuE,SAAvE,CAGA;AACA,MAAO,IAAMC,CAAAA,OAAO,CAAC,QAARA,CAAAA,OAAQ,CAACC,QAAD,QAAY,UAAAC,QAAQ,CAAE,CACvCR,KAAK,CACCS,IADN,CACW,YADX,CACwBF,QADxB,EAEMG,IAFN,CAEW,SAAAC,GAAG,QACNH,CAAAA,QAAQ,CAAC,CACLI,IAAI,CAACV,QADA,CAELW,OAAO,CAACF,GAAG,CAACG,IAFP,CAAD,CADF,EAFd,EAOKC,KAPL,CAOW,SAAAC,GAAG,CAAE,CACRR,QAAQ,CAAC,CACLI,IAAI,CAACX,UADA,CAELY,OAAO,CAACG,GAAG,CAACC,QAAJ,CAAaH,IAFhB,CAAD,CAAR,CAGG,CAXX,EAYH,CAboB,EAAd,CAcP;AACA,MAAO,IAAMI,CAAAA,QAAQ,CAAC,QAATA,CAAAA,QAAS,SAAI,UAAAV,QAAQ,CAAE,CAChCA,QAAQ,CAACW,cAAc,EAAf,CAAR,CACAnB,KAAK,CACCoB,GADN,CACU,YADV,EAEMV,IAFN,CAEW,SAAAC,GAAG,QACNH,CAAAA,QAAQ,CAAC,CACLI,IAAI,CAACT,SADA,CAELU,OAAO,CAACF,GAAG,CAACG,IAFP,CAAD,CADF,EAFd,EAOKC,KAPL,CAOW,SAAAC,GAAG,CAAE,CACRR,QAAQ,CAAC,CACLI,IAAI,CAACT,SADA,CAELU,OAAO,CAAC,IAFH,CAAD,CAAR,CAGG,CAXX,EAYH,CAdqB,EAAf,CAeP;AACA,MAAO,IAAMQ,CAAAA,OAAO,CAAC,QAARA,CAAAA,OAAQ,CAACC,EAAD,QAAM,UAAAd,QAAQ,CAAE,CACjCA,QAAQ,CAACW,cAAc,EAAf,CAAR,CACAnB,KAAK,CACCS,IADN,2BAC8Ba,EAD9B,GAEMZ,IAFN,CAEW,SAAAC,GAAG,QACNH,CAAAA,QAAQ,CAACU,QAAQ,EAAT,CADF,EAFd,EAIKH,KAJL,CAIW,SAAAC,GAAG,CAAE,CACRR,QAAQ,CAAC,CACLI,IAAI,CAACX,UADA,CAELY,OAAO,CAACG,GAAG,CAACC,QAAJ,CAAaH,IAFhB,CAAD,CAAR,CAGG,CARX,EASH,CAXoB,EAAd,CAaP;AACA,MAAO,IAAMS,CAAAA,UAAU,CAAC,QAAXA,CAAAA,UAAW,CAACD,EAAD,QAAM,UAAAd,QAAQ,CAAE,CACpCA,QAAQ,CAACW,cAAc,EAAf,CAAR,CACAnB,KAAK,CACCwB,MADN,sBAC2BF,EAD3B,GAEMZ,IAFN,CAEW,SAAAC,GAAG,QACNH,CAAAA,QAAQ,CAAC,CACLI,IAAI,CAACP,WADA,CAELQ,OAAO,CAACS,EAFH,CAAD,CADF,EAFd,EAOKP,KAPL,CAOW,SAAAC,GAAG,CAAE,CACRR,QAAQ,CAAC,CACLI,IAAI,CAACX,UADA,CAELY,OAAO,CAACG,GAAG,CAACC,QAAJ,CAAaH,IAFhB,CAAD,CAAR,CAGG,CAXX,EAYH,CAduB,EAAjB,CAeP;AAEA,MAAO,IAAMK,CAAAA,cAAc,CAAC,QAAfA,CAAAA,cAAe,EAAI,CAC5B,MAAO,CACHP,IAAI,CAACR,YADF,CAAP,CAGH,CAJM","sourcesContent":["import axios from 'axios';\r\n\r\nimport { GET_ERRORS,ADD_POST,GET_POSTS,POST_LOADING ,DELETE_POST} from './types';\r\n\r\n\r\n//add post\r\nexport const addPost=(postData)=>dispatch=>{\r\n    axios\r\n         .post(\"/api/posts\",postData)\r\n         .then(res=>\r\n            dispatch({\r\n                type:ADD_POST,\r\n                payload:res.data\r\n            }))\r\n        .catch(err=>{\r\n            dispatch({\r\n                type:GET_ERRORS,\r\n                payload:err.response.data\r\n            })});\r\n};\r\n//get posts\r\nexport const getPosts=()=>dispatch=>{\r\n    dispatch(setPostLoading());\r\n    axios\r\n         .get(\"/api/posts\")\r\n         .then(res=>\r\n            dispatch({\r\n                type:GET_POSTS,\r\n                payload:res.data\r\n            }))\r\n        .catch(err=>{\r\n            dispatch({\r\n                type:GET_POSTS,\r\n                payload:null\r\n            })});\r\n};\r\n//add like\r\nexport const addLike=(id)=>dispatch=>{\r\n    dispatch(setPostLoading());\r\n    axios\r\n         .post(`/api/posts/like/${id}`)\r\n         .then(res=>\r\n            dispatch(getPosts()))\r\n        .catch(err=>{\r\n            dispatch({\r\n                type:GET_ERRORS,\r\n                payload:err.response.data\r\n            })});\r\n};\r\n\r\n//delete post\r\nexport const deletePost=(id)=>dispatch=>{\r\n    dispatch(setPostLoading());\r\n    axios\r\n         .delete(`/api/posts/${id}`)\r\n         .then(res=>\r\n            dispatch({\r\n                type:DELETE_POST,\r\n                payload:id\r\n            }))\r\n        .catch(err=>{\r\n            dispatch({\r\n                type:GET_ERRORS,\r\n                payload:err.response.data\r\n            })});\r\n};\r\n//set loading state\r\n\r\nexport const setPostLoading=()=>{\r\n    return {\r\n        type:POST_LOADING\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}