{"ast":null,"code":"import axios from 'axios';\nimport { GET_ERRORS, ADD_POST, GET_POSTS, POST_LOADING, DELETE_POST } from './types'; //add post\n\nexport const addPost = postData => dispatch => {\n  axios.post(\"/api/posts\", postData).then(res => dispatch({\n    type: ADD_POST,\n    payload: res.data\n  })).catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    });\n  });\n}; //get posts\n\nexport const getPosts = () => dispatch => {\n  dispatch(setPostLoading());\n  axios.get(\"/api/posts\").then(res => dispatch({\n    type: GET_POSTS,\n    payload: res.data\n  })).catch(err => {\n    dispatch({\n      type: GET_POSTS,\n      payload: err.response.data\n    });\n  });\n}; //add like\n\nexport const addLike = id => dispatch => {\n  dispatch(setPostLoading());\n  axios.post(`/api/posts/like/${id}`).then(res => dispatch(getPosts())).catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    });\n  });\n}; //delete post\n\nexport const deletePost = id => dispatch => {\n  dispatch(setPostLoading());\n  axios.delete(`/api/posts/${id}`).then(res => dispatch({\n    type: DELETE_POST,\n    payload: id\n  })).catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    });\n  });\n}; //set loading state\n\nexport const setPostLoading = () => {\n  return {\n    type: POST_LOADING\n  };\n};","map":{"version":3,"sources":["G:/IIT kgp/My websites/finalassignments/my-app/src/actions/postactions.js"],"names":["axios","GET_ERRORS","ADD_POST","GET_POSTS","POST_LOADING","DELETE_POST","addPost","postData","dispatch","post","then","res","type","payload","data","catch","err","response","getPosts","setPostLoading","get","addLike","id","deletePost","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,SAASC,UAAT,EAAoBC,QAApB,EAA6BC,SAA7B,EAAuCC,YAAvC,EAAqDC,WAArD,QAAuE,SAAvE,C,CAGA;;AACA,OAAO,MAAMC,OAAO,GAAEC,QAAD,IAAYC,QAAQ,IAAE;AACvCR,EAAAA,KAAK,CACCS,IADN,CACW,YADX,EACwBF,QADxB,EAEMG,IAFN,CAEWC,GAAG,IACNH,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAACV,QADA;AAELW,IAAAA,OAAO,EAACF,GAAG,CAACG;AAFP,GAAD,CAHhB,EAOKC,KAPL,CAOWC,GAAG,IAAE;AACRR,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAACX,UADA;AAELY,MAAAA,OAAO,EAACG,GAAG,CAACC,QAAJ,CAAaH;AAFhB,KAAD,CAAR;AAGG,GAXX;AAYH,CAbM,C,CAcP;;AACA,OAAO,MAAMI,QAAQ,GAAC,MAAIV,QAAQ,IAAE;AAChCA,EAAAA,QAAQ,CAACW,cAAc,EAAf,CAAR;AACAnB,EAAAA,KAAK,CACCoB,GADN,CACU,YADV,EAEMV,IAFN,CAEWC,GAAG,IACNH,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAACT,SADA;AAELU,IAAAA,OAAO,EAACF,GAAG,CAACG;AAFP,GAAD,CAHhB,EAOKC,KAPL,CAOWC,GAAG,IAAE;AACRR,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAACT,SADA;AAELU,MAAAA,OAAO,EAACG,GAAG,CAACC,QAAJ,CAAaH;AAFhB,KAAD,CAAR;AAGG,GAXX;AAYH,CAdM,C,CAeP;;AACA,OAAO,MAAMO,OAAO,GAAEC,EAAD,IAAMd,QAAQ,IAAE;AACjCA,EAAAA,QAAQ,CAACW,cAAc,EAAf,CAAR;AACAnB,EAAAA,KAAK,CACCS,IADN,CACY,mBAAkBa,EAAG,EADjC,EAEMZ,IAFN,CAEWC,GAAG,IACNH,QAAQ,CAACU,QAAQ,EAAT,CAHhB,EAIKH,KAJL,CAIWC,GAAG,IAAE;AACRR,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAACX,UADA;AAELY,MAAAA,OAAO,EAACG,GAAG,CAACC,QAAJ,CAAaH;AAFhB,KAAD,CAAR;AAGG,GARX;AASH,CAXM,C,CAaP;;AACA,OAAO,MAAMS,UAAU,GAAED,EAAD,IAAMd,QAAQ,IAAE;AACpCA,EAAAA,QAAQ,CAACW,cAAc,EAAf,CAAR;AACAnB,EAAAA,KAAK,CACCwB,MADN,CACc,cAAaF,EAAG,EAD9B,EAEMZ,IAFN,CAEWC,GAAG,IACNH,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAACP,WADA;AAELQ,IAAAA,OAAO,EAACS;AAFH,GAAD,CAHhB,EAOKP,KAPL,CAOWC,GAAG,IAAE;AACRR,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAACX,UADA;AAELY,MAAAA,OAAO,EAACG,GAAG,CAACC,QAAJ,CAAaH;AAFhB,KAAD,CAAR;AAGG,GAXX;AAYH,CAdM,C,CAeP;;AAEA,OAAO,MAAMK,cAAc,GAAC,MAAI;AAC5B,SAAO;AACHP,IAAAA,IAAI,EAACR;AADF,GAAP;AAGH,CAJM","sourcesContent":["import axios from 'axios';\r\n\r\nimport { GET_ERRORS,ADD_POST,GET_POSTS,POST_LOADING ,DELETE_POST} from './types';\r\n\r\n\r\n//add post\r\nexport const addPost=(postData)=>dispatch=>{\r\n    axios\r\n         .post(\"/api/posts\",postData)\r\n         .then(res=>\r\n            dispatch({\r\n                type:ADD_POST,\r\n                payload:res.data\r\n            }))\r\n        .catch(err=>{\r\n            dispatch({\r\n                type:GET_ERRORS,\r\n                payload:err.response.data\r\n            })});\r\n};\r\n//get posts\r\nexport const getPosts=()=>dispatch=>{\r\n    dispatch(setPostLoading());\r\n    axios\r\n         .get(\"/api/posts\")\r\n         .then(res=>\r\n            dispatch({\r\n                type:GET_POSTS,\r\n                payload:res.data\r\n            }))\r\n        .catch(err=>{\r\n            dispatch({\r\n                type:GET_POSTS,\r\n                payload:err.response.data\r\n            })});\r\n};\r\n//add like\r\nexport const addLike=(id)=>dispatch=>{\r\n    dispatch(setPostLoading());\r\n    axios\r\n         .post(`/api/posts/like/${id}`)\r\n         .then(res=>\r\n            dispatch(getPosts()))\r\n        .catch(err=>{\r\n            dispatch({\r\n                type:GET_ERRORS,\r\n                payload:err.response.data\r\n            })});\r\n};\r\n\r\n//delete post\r\nexport const deletePost=(id)=>dispatch=>{\r\n    dispatch(setPostLoading());\r\n    axios\r\n         .delete(`/api/posts/${id}`)\r\n         .then(res=>\r\n            dispatch({\r\n                type:DELETE_POST,\r\n                payload:id\r\n            }))\r\n        .catch(err=>{\r\n            dispatch({\r\n                type:GET_ERRORS,\r\n                payload:err.response.data\r\n            })});\r\n};\r\n//set loading state\r\n\r\nexport const setPostLoading=()=>{\r\n    return {\r\n        type:POST_LOADING\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}